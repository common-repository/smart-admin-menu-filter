(()=>{var b=/[AEIOUY]/,H=/W|K|CZ|WITZ/,R=/^(VAN |VON |SCH)/,O=/^(GN|KN|PN|WR|PS)/,X=/^CH(IA|EM|OR([^E])|YM|ARAC|ARIS)/,x=/ORCHES|ARCHIT|ORCHID/,w=/[ BFHLMNRVW]/,J=/[CGLRT]/,W=/Y[\s\S]|E[BILPRSY]|I[BELN]/,G=/^[DMR]ANGER/,P=/[EGIR]/,g=/[LTKSNMBZ]/,y=/AS|OS/,Y=/EIM|OEK|OLM|OLZ/,B=/E[DMNR]|UY|OO/;function M(r){var s="",i="",e=0,f=r.length,h=f-1,o,d,n,t,c,a,l;for(r=String(r).toUpperCase()+"     ",o=H.test(r),d=R.test(r),l=r.split(""),O.test(r)&&e++,l[0]==="X"&&(s+="S",i+="S",e++);e<f;)switch(c=l[e-1],t=l[e+1],a=l[e+2],l[e]){case"A":case"E":case"I":case"O":case"U":case"Y":case"\xC0":case"\xCA":case"\xC9":e===0&&(s+="A",i+="A"),e++;break;case"B":s+="P",i+="P",t==="B"&&e++,e++;break;case"\xC7":s+="S",i+="S",e++;break;case"C":if(c==="A"&&t==="H"&&a!=="I"&&!b.test(l[e-2])&&(a!=="E"||(n=r.slice(e-2,e+4))&&(n==="BACHER"||n==="MACHER"))){s+="K",i+="K",e+=2;break}if(e===0&&r.slice(e+1,e+6)==="AESAR"){s+="S",i+="S",e+=2;break}if(r.slice(e+1,e+4)==="HIA"){s+="K",i+="K",e+=2;break}if(t==="H"){if(e>0&&a==="A"&&l[e+3]==="E"){s+="K",i+="X",e+=2;break}if(e===0&&X.test(r)){s+="K",i+="K",e+=2;break}d||x.test(r.slice(e-2,e+4))||a==="T"||a==="S"||(e===0||c==="A"||c==="E"||c==="O"||c==="U")&&w.test(a)?(s+="K",i+="K"):e===0?(s+="X",i+="X"):r.slice(0,2)==="MC"?(s+="K",i+="K"):(s+="X",i+="K"),e+=2;break}if(t==="Z"&&r.slice(e-2,e)!=="WI"){s+="S",i+="X",e+=2;break}if(r.slice(e+1,e+4)==="CIA"){s+="X",i+="X",e+=3;break}if(t==="C"&&!(e===1&&l[0]==="M"))if((a==="I"||a==="E"||a==="H")&&r.slice(e+2,e+4)!=="HU"){n=r.slice(e-1,e+4),e===1&&c==="A"||n==="UCCEE"||n==="UCCES"?(s+="KS",i+="KS"):(s+="X",i+="X"),e+=3;break}else{s+="K",i+="K",e+=2;break}if(t==="G"||t==="K"||t==="Q"){s+="K",i+="K",e+=2;break}if(t==="I"&&(a==="E"||a==="O")){s+="S",i+="X",e+=2;break}if(t==="I"||t==="E"||t==="Y"){s+="S",i+="S",e+=2;break}if(s+="K",i+="K",t===" "&&(a==="C"||a==="G"||a==="Q")){e+=3;break}e++;break;case"D":if(t==="G"){a==="E"||a==="I"||a==="Y"?(s+="J",i+="J",e+=3):(s+="TK",i+="TK",e+=2);break}if(t==="T"||t==="D"){s+="T",i+="T",e+=2;break}s+="T",i+="T",e++;break;case"F":t==="F"&&e++,e++,s+="F",i+="F";break;case"G":if(t==="H"){if(e>0&&!b.test(c)){s+="K",i+="K",e+=2;break}if(e===0){a==="I"?(s+="J",i+="J"):(s+="K",i+="K"),e+=2;break}if(n=l[e-2],n==="B"||n==="H"||n==="D"||(n=l[e-3],n==="B"||n==="H"||n==="D")||(n=l[e-4],n==="B"||n==="H")){e+=2;break}e>2&&c==="U"&&J.test(l[e-3])?(s+="F",i+="F"):e>0&&c!=="I"&&(s+="K",i+="K"),e+=2;break}if(t==="N"){e===1&&b.test(l[0])&&!o?(s+="KN",i+="N"):r.slice(e+2,e+4)!=="EY"&&r.slice(e+1)!=="Y"&&!o?(s+="N",i+="KN"):(s+="KN",i+="KN"),e+=2;break}if(r.slice(e+1,e+3)==="LI"&&!o){s+="KL",i+="L",e+=2;break}if(e===0&&W.test(r.slice(1,3))){s+="K",i+="J",e+=2;break}if(r.slice(e+1,e+3)==="ER"&&c!=="I"&&c!=="E"&&!G.test(r.slice(0,6))||t==="Y"&&!P.test(c)){s+="K",i+="J",e+=2;break}if(t==="E"||t==="I"||t==="Y"||(c==="A"||c==="O")&&t==="G"&&a==="I"){r.slice(e+1,e+3)==="ET"||d?(s+="K",i+="K"):(s+="J",i+=r.slice(e+1,e+5)==="IER "?"J":"K"),e+=2;break}t==="G"&&e++,e++,s+="K",i+="K";break;case"H":b.test(t)&&(e===0||b.test(c))&&(s+="H",i+="H",e++),e++;break;case"J":if(r.slice(e,e+4)==="JOSE"||r.slice(0,4)==="SAN "){r.slice(0,4)==="SAN "||e===0&&l[e+4]===" "?(s+="H",i+="H"):(s+="J",i+="H"),e++;break}e===0?(s+="J",i+="A"):!o&&(t==="A"||t==="O")&&b.test(c)?(s+="J",i+="H"):e===h?s+="J":c!=="S"&&c!=="K"&&c!=="L"&&!g.test(t)?(s+="J",i+="J"):t==="J"&&e++,e++;break;case"K":t==="K"&&e++,s+="K",i+="K",e++;break;case"L":if(t==="L"){if(e===f-3&&(c==="A"&&a==="E"||c==="I"&&(a==="O"||a==="A"))||c==="A"&&a==="E"&&(l[h]==="A"||l[h]==="O"||y.test(r.slice(h-1,f)))){s+="L",e+=2;break}e++}s+="L",i+="L",e++;break;case"M":(t==="M"||c==="U"&&t==="B"&&(e+1===h||r.slice(e+2,e+4)==="ER"))&&e++,e++,s+="M",i+="M";break;case"N":t==="N"&&e++,e++,s+="N",i+="N";break;case"\xD1":e++,s+="N",i+="N";break;case"P":if(t==="H"){s+="F",i+="F",e+=2;break}n=t,(n==="P"||n==="B")&&e++,e++,s+="P",i+="P";break;case"Q":t==="Q"&&e++,e++,s+="K",i+="K";break;case"R":e===h&&!o&&c==="E"&&l[e-2]==="I"&&l[e-4]!=="M"&&l[e-3]!=="E"&&l[e-3]!=="A"||(s+="R"),i+="R",t==="R"&&e++,e++;break;case"S":if(t==="L"&&(c==="I"||c==="Y")){e++;break}if(e===0&&r.slice(1,5)==="UGAR"){s+="X",i+="S",e++;break}if(t==="H"){Y.test(r.slice(e+1,e+5))?(s+="S",i+="S"):(s+="X",i+="X"),e+=2;break}if(t==="I"&&(a==="O"||a==="A")){o?(s+="S",i+="S"):(s+="S",i+="X"),e+=3;break}if(t==="Z"||e===0&&(t==="L"||t==="M"||t==="N"||t==="W")){s+="S",i+="X",t==="Z"&&e++,e++;break}if(t==="C"){if(a==="H"){if(n=r.slice(e+3,e+5),B.test(n)){n==="ER"||n==="EN"?(s+="X",i+="SK"):(s+="SK",i+="SK"),e+=3;break}e===0&&!b.test(l[3])&&l[3]!=="W"?(s+="X",i+="S"):(s+="X",i+="X"),e+=3;break}if(a==="I"||a==="E"||a==="Y"){s+="S",i+="S",e+=3;break}s+="SK",i+="SK",e+=3;break}n=r.slice(e-2,e),e===h&&(n==="AI"||n==="OI")||(s+="S"),i+="S",t==="S"&&e++,e++;break;case"T":if(t==="I"&&a==="O"&&l[e+3]==="N"){s+="X",i+="X",e+=3;break}if(n=r.slice(e+1,e+3),t==="I"&&a==="A"||t==="C"&&a==="H"){s+="X",i+="X",e+=3;break}if(t==="H"||t==="T"&&a==="H"){d||(a==="O"||a==="A")&&l[e+3]==="M"?(s+="T",i+="T"):(s+="0",i+="T"),e+=2;break}(t==="T"||t==="D")&&e++,e++,s+="T",i+="T";break;case"V":t==="V"&&e++,s+="F",i+="F",e++;break;case"W":if(t==="R"){s+="R",i+="R",e+=2;break}if(e===0&&(b.test(t)?(s+="A",i+="F"):t==="H"&&(s+="A",i+="A")),(c==="E"||c==="O")&&t==="S"&&a==="K"&&(l[e+3]==="I"||l[e+3]==="Y")||r.slice(0,3)==="SCH"||e===h&&b.test(c)){i+="F",e++;break}if(t==="I"&&(a==="C"||a==="T")&&l[e+3]==="Z"){s+="TS",i+="FX",e+=4;break}e++;break;case"X":e===h&&c==="U"&&(l[e-2]==="A"||l[e-2]==="O")||(s+="KS",i+="KS"),(t==="C"||t==="X")&&e++,e++;break;case"Z":if(t==="H"){s+="J",i+="J",e+=2;break}else t==="Z"&&(a==="A"||a==="I"||a==="O")||o&&e>0&&c!=="T"?(s+="S",i+="TS"):(s+="S",i+="S");t==="Z"&&e++,e++;break;default:e++}return[s,i]}var k=class{strToDoubleMetaphone(s){return M(s)}isMatch(s,i){return this.strToDoubleMetaphone(s).find(f=>i.find(h=>h.search(f)>-1))}};var S="samf-admin-show-item",m="samf-admin-hide-item",A="samf-admin-menu-search-field",K="smart-admin-menu-filter-search",E="samf-admin-menu-filter";var u="wp-has-current-submenu",p="wp-has-submenu",C="wp-menu-name",F="menu-top",I="adminmenuwrap",L="adminmenu";var N=class{constructor(){this.adminMenuWrap=document.getElementById(I),this.adminMenu=document.getElementById(L)}init(){this.SAMFPhonetic=new k,this.adminMenuItems=this.getAdminMenu()||[],this.createAdminSearchField()}getAdminMenu(){let s={};return this.adminMenu.querySelectorAll("li."+F).forEach(i=>{let e=i.querySelector("."+C),f=e.textContent||e.innerText;if(s[i.id]={element:i,label:this.SAMFPhonetic.strToDoubleMetaphone(f),subMenuWrap:null,classes:i.classList||[],subMenu:[]},i.classList.contains(p)){let h=i.querySelector("ul");s[i.id].subMenuWrap={element:h,classes:h.classList||[]},h.querySelectorAll("li").forEach(o=>{let d=o.querySelector("a");if(d){let n=d.textContent||d.text;s[i.id].subMenu.push({element:o,label:this.SAMFPhonetic.strToDoubleMetaphone(n),classes:o.classList||[]})}})}}),s}createAdminSearchField(){this.menuSearchField=document.createElement("input"),new Promise((i,e)=>{try{this.menuSearchField.classList.add(A),this.menuSearchField.setAttribute("name",E),this.menuSearchField.setAttribute("type","text"),this.menuSearchField.setAttribute("value",""),this.menuSearchField.setAttribute("placeholder","Search Admin Menu");let f=document.createElement("div");f.setAttribute("id",K),f.append(this.menuSearchField),this.adminMenuWrap.prepend(f),i(!0)}catch(f){e(!1)}}).then(()=>{this.addListeners()})}addListeners(){this.menuSearchField.addEventListener("keyup",s=>{this.searchMenu(s.target.value)})}searchMenu(s){let i=!1;s=s.trim();let e=document.querySelectorAll(".wp-menu-separator");s?e.forEach(f=>{f.classList.add("samf-admin-hide-item")}):e.forEach(f=>{f.classList.remove("samf-admin-hide-item")}),Object.values(this.adminMenuItems).forEach(f=>{let h=!1,o=f.subMenuWrap,d=f.label;s||(this.resetItem(f),o&&this.resetItem(o)),i=this.SAMFPhonetic.isMatch(s,d),f.subMenu.forEach(n=>{let t=n.label;this.SAMFPhonetic.isMatch(s,t)?(h=!0,this.showItem(n)):i?this.showItem(n):this.hideItem(n),s.length||this.resetItem(n)}),s.length&&(!i&&!h?this.hideItem(f):this.showItem(f),o&&(h?o.classes.contains(u)?this.hideItem(o):this.showItem(o):o.classes.contains(u)?this.showItem(o):this.hideItem(o)))})}showItem(s){if(!s.classes.contains(S)){let i=s.element.classList;i.add(S),s.classes=i}if(s.classes.contains(m)){let i=s.element.classList;i.remove(m),s.classes=i}}hideItem(s){if(s.classes.contains(S)){let i=s.element.classList;i.remove(S),s.classes=i}if(!s.classes.contains(m)){let i=s.element.classList;i.add(m),s.classes=i}}resetItem(s){if(s.classes.contains(S)){let i=s.element.classList;i.remove(S),s.classes=i}if(s.classes.contains(m)){let i=s.element.classList;i.remove(m),s.classes=i}}};document.addEventListener("DOMContentLoaded",()=>{new N().init()});})();
//# sourceMappingURL=smart-admin-menu-filter.min.js.map
